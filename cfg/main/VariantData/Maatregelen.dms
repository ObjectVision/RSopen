container Maatregelen
: Descr = "In deze module worden locaties bepaald waar met eventuele maatregelen wel gebouwd zouden kunnen worden. Dit wordt gebruikt als trede."
{
	parameter<Bool> MaatregelKanAangepastBouwenZijn := = 'VariantParameters/VariantK/MaatregelKanAangepastBouwenZijn[VariantParameters/VariantK/V/'+Variant_name+']';
	
	attribute<Bool> IsJuisteOverstromingsdiepte (CompactedAdminDomain) := collect_by_cond(CompactedAdminDomain, AdminDomain/IsCompactedDomain, BaseData/Omgeving/Overstromingsdiepte) < /ModelParameters/Wonen/MaximaleDiepteAangepastBouwen;
	
	container Overstromingsgevaarzones :=
		for_each_nedv(
			Classifications/Overstromingsgevaarzonering/zoneringK/name
			, 'MaatregelKanAangepastBouwenZijn && IsJuisteOverstromingsdiepte 
				&& collect_by_cond(CompactedAdminDomain, AdminDomain/IsCompactedDomain, BaseData/Omgeving/Overstromingsgevaarzonering) == /Classifications/Overstromingsgevaarzonering/zoneringK/V/'+/Classifications/Overstromingsgevaarzonering/zoneringK/name+'
				&& VariantParameters/VariantK/GevaarRegimeZone'+string(id(/Classifications/Overstromingsgevaarzonering/zoneringK))+'[VariantParameters/VariantK/V/'+Variant_name+'] == Classifications/Modellering/MaatregelK/V/Maatregelen'
			, CompactedAdminDomain, bool
		)
	{
		attribute<Bool> Totaal (CompactedAdminDomain) := = 'OR('+asItemList(Classifications/Overstromingsgevaarzonering/zoneringK/name)+')';
	}
}
