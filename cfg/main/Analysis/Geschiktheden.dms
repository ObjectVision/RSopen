container Geschiktheden
{
	container Wonen
	{
		unit<uint8> OP := caseclassifications/vastgoed/OP;
		
		container Impl
		{
			container CalcOpbrengsten_perOP  := for_each_nedv(OP/name, 'Woningwaarde_perOP/'+OP/name+'/Prijs_OP', AdminDomain, EUR);
			container WriteOpbrengsten_perOP := 
				for_each_neidva(
					OP/name
					, 'CalcOpbrengsten_perOP/'+OP/name
					, 'not(all(IsNull(this)))'
					, AdminDomain
					, EUR
					, '%LocalDataDir%/RSopen/VariantData/Vastgoed/Opbrengsten_perOP/'+Variant_name+'/'+OP/name+'.tif'
				)
			{
				parameter<string> GenerateAll := 'Done', ExplicitSuppliers = "=AsList(OP/name,';')";
			}
			
			container ReadOpbrengsten_perOP_UNCHECKED := 
				for_each_ndva(
					OP/name
					, AdminDomain
					, EUR
					, '%LocalDataDir%/RSopen/VariantData/Vastgoed/Opbrengsten_perOP/'+Variant_name+'/'+OP/name+'.tif'
				), StorageReadOnly = "True";
				
			container ReadOpbrengsten_perOP  := 
				for_each_neidv(
					OP/name
					, 'ReadOpbrengsten_perOP_UNCHECKED/'+OP/name
					, 'not(all(IsNull(this)))'
					, AdminDomain
					, EUR
				);
				
			container Woningwaarde_perOP := for_each_ne(OP/name, 'Templates/Woningwaarde_OP_T('+string(id(OP))+'[OP])');
		}
		
		container Opbrengsten_perOP_src  := = ModelParameters/VariantDataOntkoppeld ? 'Impl/ReadOpbrengsten_perOP' : 'Impl/WriteOpbrengsten_perOP';
		container Opbrengsten_perOP      := 
			for_each_nedv(
				OP/name
				, 'collect_by_cond(CompactedAdminDomain, AdminDomain/IsCompactedDomain, Opbrengsten_perOP_src/'+OP/name+')'
				, CompactedAdminDomain
				, EUR
			);
		
		#include<Bouwkosten.dms>
	}
}