Template ReadData_BAG_T
{
	//
	parameter<uint32> Year;
	unit<uint32> RegioUnit;
	//
	
	container BAG_Logies := ='/SourceData/Vastgoed/BAG/PerJaar/Y'+string(year)+'/VBOs/GebruiksdoelSets/logies/GebruiksdoelSet';
	container BAG_Woon   := ='/SourceData/Vastgoed/BAG/PerJaar/Y'+string(year)+'/VBOs/GebruiksdoelSets/woon/GebruiksdoelSet';
	
	parameter<string> distance_decay_type := 'rev_dist_scaled';
	parameter<verblijfsobject> Object_Ondergrens := 2[verblijfsobject];
	
	container PandFootprint := ='BaseData/PandFootprint/PerYear_AdminDomain/Y'+string(year)+'/pand_met_vbo/PerGebruiksdoel_corr';
	
	parameter<meter2> Totale_PandFootprint_Logies_inCBS := ='sum(/SourceData/Vastgoed/BAG/PerJaar/Y'+string(year)+'/Panden/pand/pand_met_vbo/LigtInCBSVerblijfsrecreatie ? /SourceData/Vastgoed/BAG/PerJaar/Y'+string(year)+'/Panden/pand/pand_met_vbo/Footprint_VBOOpp_per_vbo_functie/logies : 0[meter2])';
	attribute<meter2> Totale_PandFootprint_Logies_inCBS_perRegio       (RegioUnit)   := ='sum(/SourceData/Vastgoed/BAG/PerJaar/Y'+string(year)+'/Panden/pand/pand_met_vbo/LigtInCBSVerblijfsrecreatie ? /SourceData/Vastgoed/BAG/PerJaar/Y'+string(year)+'/Panden/pand/pand_met_vbo/Footprint_VBOOpp_per_vbo_functie/logies : 0[meter2], SourceData/Vastgoed/BAG/PerJaar/Y'+string(year)+'/Panden/pand/pand_met_vbo/'+RegioUnit_str+'_rel)';
	attribute<meter2> Totale_PandFootprint_Logies_inCBS_perAllocDomain (AllocDomain) := ='sum(/SourceData/Vastgoed/BAG/PerJaar/Y'+string(year)+'/Panden/pand/pand_met_vbo/LigtInCBSVerblijfsrecreatie ? /SourceData/Vastgoed/BAG/PerJaar/Y'+string(year)+'/Panden/pand/pand_met_vbo/Footprint_VBOOpp_per_vbo_functie/logies : 0[meter2], SourceData/Vastgoed/BAG/PerJaar/Y'+string(year)+'/Panden/pand/pand_met_vbo/AllocDomain_rel)';
	
	parameter<meter2> Totale_vbo_opp_Logies_inCBS := ='sum(BAG_Logies/LigtInCBSVerblijfsrecreatie ? BAG_Logies/oppervlakte_trunc : 0[m2_vbo]) * 1[verblijfsobject]';
	parameter<meter2> Totale_PandFootprint_Logies := ='sum(SourceData/Vastgoed/BAG/PerJaar/Y'+string(year)+'/Panden/pand/pand_met_vbo/Footprint_VBOOpp_per_vbo_functie/logies)';
	parameter<meter2> Totale_vbo_opp_Logies       := ='sum(BAG_Logies/oppervlakte_trunc) * 1[verblijfsobject]';
	
	parameter<verblijfsobject> count_inCBS      := sum(BAG_Logies/LigtInCBSVerblijfsrecreatie ? 1[verblijfsobject] : 0[verblijfsobject]);
	parameter<verblijfsobject> count_woon_inCBS := sum(BAG_Woon/LigtInCBSVerblijfsrecreatie ? 1[verblijfsobject] : 0[verblijfsobject]);
	parameter<verblijfsobject> count            := sum(Isdefined(BAG_Logies/identificatie) ? 1[verblijfsobject] : 0[verblijfsobject]);
	
	attribute<Ha> BrutoOpp_per_AdminDomain (AdminDomain) := = 'SourceData/Grondgebruik/BBG/Dominant/per_AdminDomain_perKlasse/J'+/ModelParameters/BBG_Year+'/PerKlasse/Verblijfsrecreatie ? AdminDomain/NrHaPerCell : 0[ha]';
	
	container PerRegio
	{
		attribute<verblijfsobject> Objecten    (RegioUnit) := ='sum(BAG_Logies/LigtInCBSVerblijfsrecreatie ? 1[verblijfsobject] : 0[verblijfsobject], BAG_Logies/'+RegioUnit_str+'_rel)';
		attribute<Meter2>          NettoOpp_m2 (RegioUnit) := Totale_PandFootprint_Logies_inCBS_perRegio;
		attribute<Ha>              NettoOpp    (RegioUnit) := convert(Totale_PandFootprint_Logies_inCBS_perRegio, Ha);
		attribute<Ha>              BrutoOpp    (RegioUnit) := sum(../BrutoOpp_per_AdminDomain, RegioUnit/per_AdminDomain);
		
		attribute<m2_vbo> NettoOpp_Object  (RegioUnit) := NettoOpp_m2 / Objecten;
		attribute<ha_vbo> BrutoOpp_Object  (RegioUnit) := BrutoOpp / Objecten;
		
		attribute<float32> BrutoNetto (RegioUnit) := BrutoOpp_Object / 1[ha] / NettoOpp_Object * 1[Meter2];
	}
	
	container PerAdminDomain
	{
		attribute<verblijfsobject> Objecten        (AdminDomain) := sum(BAG_Logies/LigtInCBSVerblijfsrecreatie ? 1[verblijfsobject] : 0[verblijfsobject], BAG_Logies/AdminDomain_rel);
		attribute<Ha>              BrutoOpp        (AdminDomain) := ../BrutoOpp_per_AdminDomain;
		attribute<ha_vbo>          BrutoOpp_Object (AdminDomain) := BrutoOpp / Objecten;
	}
	
	container PerAllocDomain
	{
		attribute<verblijfsobject> Objecten        (AllocDomain) := sum(BAG_Logies/LigtInCBSVerblijfsrecreatie ? 1[verblijfsobject] : 0[verblijfsobject], BAG_Logies/AllocDomain_rel);
		attribute<Meter2>          NettoOpp_m2     (AllocDomain) := Totale_PandFootprint_Logies_inCBS_perAllocDomain;
		attribute<Ha>              NettoOpp        (AllocDomain) := convert(Totale_PandFootprint_Logies_inCBS_perAllocDomain, Ha);
		attribute<m2_vbo>          NettoOpp_Object (AllocDomain) := NettoOpp_m2 / Objecten;
	}
}