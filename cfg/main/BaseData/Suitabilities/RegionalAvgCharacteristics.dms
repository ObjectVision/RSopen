container RegionalAvgCharacteristics
: Descr = "Inlezen van de regionale en nationale kenmerken van woningen die gebruikt worden in de prijsindex modellen."
{
	
	container perWP2 := perWP_Type_T('WP2'), Descr = "Regionale en nationale kenmerken voor WP2 woningen.";
	container perWP4 := perWP_Type_T('WP4'), Descr = "Regionale en nationale kenmerken voor WP4 woningen.";
	
	Template perWP_Type_T
	: Descr = "Template om regionale en nationale kenmerken voor een bepaald woningtype in te lezen."
	{
		parameter<String> WP_Type;
		//

		unit<UInt8>  AdminDomain  := ='Classifications/Vastgoed/'+WP_Type;
		unit<UInt32> comb         := ='Classifications/Vastgoed/'+WP_Type+'xHouseChar';
		
		container NationalAvgCharacteristics :=
			for_each_ndv(
				Classifications/Vastgoed/HouseCharacteristics/name
				, AdminDomain
				, float32
			), StorageName = "='%RSo_DataDir%/Vastgoed/NVM_Nationalekarakteristieken_'+ModelParameters/nvm_filedate+'/'+WP_Type+'.fss'",  StorageReadOnly = "True"
			, Descr = "Inlezen van de nationale kenmerken van woningen die gebruikt worden in de prijsindex modellen."
		{
			attribute<Float32> d_maintgoodNewHouses      (AdminDomain) := const(1f,AdminDomain), Descr = "Waarde voor dummy of een woning een goede onderhoudsstatus heeft in het geval van nieuwbouwwoningen.";
			// attribute<Float32> d_centralheatingNewHouses (AdminDomain) := const(1f,AdminDomain), Descr = "Waarde voor dummy of een woning centrale verwarming heeft in het geval van nieuwbouwwoningen.";
			// attribute<Float32> d_isol_complNewHouses     (AdminDomain) := const(1f,AdminDomain), Descr = "Waarde voor dummy of een woning volledig is geïsoleerd in het geval van nieuwbouwwoningen.";
			// attribute<Float32> d_privparkNewHouses       (AdminDomain) := =WP_Type = 'WP4' ? 'id(AdminDomain) = AdminDomain/V/Twee_onder_1_kap || id(AdminDomain) = AdminDomain/V/vRijstaand ? 1f : d_privpark' : 'd_privpark', Descr = "Waarde voor dummy of een woning een privé parkeerplaats heeft in het geval van nieuwbouwwoningen.";
			
			attribute<Float32> opp_Woning_log (AdminDomain) := log(size), Descr = "Log van de woonoppervlakte van de woning.";
		}
			
		container RegionalAvgCharacteristics := 
			for_each_ndvnat(
				comb/name
				, rdc_25m
				, comb
				, comb/ValueType
				, '%RSo_DataDir%/Vastgoed/NVM_Regiokarakteristieken_'+/ModelParameters/nvm_filedate+'/'+WP_Type+'/'+comb/name+'.tif'
				, 'tif'
			), StorageReadOnly = "True", Descr = "Inlezen van de regionale kenmerken van woningen die gebruikt worden in de prijsindex modellen."
		{
			// attribute<Float32> vrijstaand_d_privparkNewHouses       (rdc_25m) := const(1f, rdc_25m), Descr = "Waarde voor dummy of een vrijstaande woning een privé parkeerplaats heeft in het geval van nieuwbouwwoningen.";
			// attribute<Float32> Twee_onder_1_kap_d_privparkNewHouses (rdc_25m) := vRijstaand_d_privparkNewHouses, Descr = "Waarde voor dummy of een twee onder een kap woning een privé parkeerplaats heeft in het geval van nieuwbouwwoningen.";
		}
	}
}