////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
// Dit is RSOpen, de open source versie van het model RuimteScanner. Het scipt wordt uitgegeven onder GNU-GPL licentie.
//
// RSOpen is ontwikkeld door PBL Planbureau voor de Leefomgeving, i.s.m Object Vision B.V. en VU Vrije Universiteit Amsterdam.
// Opdrachtgever/ontwikkelaar PBL: Bart Rijken
// Contactpersoon/ontwikkelaar Object Vision B.V.: Jip Claassens (jclaassens@objectvision.nl)
// Contacpersoon PBL: Bas van Bemmel (Bas.vanBemmel@pbl.nl)
//
// Deze file bevat een reeks Classificaties (Classifications), incl. relaties met andere Classificaties.
// De bronnen zijn divers.
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

container Classifications: using = "Units", KeepData = "True"
{
	#include<Actor.dms>
	#include<Bereikbaarheid.dms>
	#include<Data.dms>
	#include<Grondgebruik.dms>
	#include<Landschap.dms>
	// #include<MateriaalStromen.dms>
	#include<Modellering.dms>
	#include<OSM.dms>
	#include<Overstromingsgevaarzonering.dms>
	#include<Time.dms>
	#include<Vastgoed.dms>
	#include<Zonneladder.dms>
	#include<TigrisXL.dms>
	#include<Landbouw.dms>
	
	unit<uint8> WaterretentieK: NrOfRows = 8
	{
		attribute<string>                       name: ['GroenDak','BlauwDak','Halfverharding','Wadi','HolleWeg','Waterplein','InfiltratieveldMetOpslag','Infiltratiekratten'];
		attribute<m3_m2>          Bergingscapaciteit: [0.01      ,0.10      ,0.05            ,0.35  ,0.10      ,0.75        ,0.80                      ,0.40                ];
		attribute<Eur_m2>               Aanlegkosten: [120       ,234       ,100             ,75    ,30        ,4125        ,60                        ,950                 ];
		attribute<Eur_m2_jaarlijks> Onderhoudskosten: [6.00      ,9.00      ,0.42            ,0.75  ,2.25      ,1.65        ,0.50                      ,5.32                ];
		attribute<bool>       HeeftBenodigdeVelddata: [false     ,false     ,true            ,true  ,true      ,false       ,false                     ,false               ];
		
		attribute<string> Label := name;
		
		container V := for_each_nedv(AsItemName(name), string(id(.))+'[..]', void, .);
		
		unit<uint8> MetBenodigdeVelddata := select_with_org_rel(WaterretentieK/HeeftBenodigdeVelddata == true)
		{
			attribute<string> name := WaterretentieK/name[org_rel];
			attribute<m3_m2>  Bergingscapaciteit := WaterretentieK/Bergingscapaciteit[org_rel];
			
			attribute<string> Label := name;
		
			container V := for_each_nedv(AsItemName(name), string(id(.))+'[..]', void, .);
		}
	}
	
	container CO2
	{
		unit<uint8> EmissieK: NrOfRows = 3
		{
			attribute<string> name: ['Minimum', 'Mediaan', 'Maximum'];
			attribute<string> label := name;
		}
		
		unit<uint8> PrijsK: NrOfRows = 2
		{
			attribute<string> name: ['Minimum', 'Maximum'];
			attribute<string> label := name;
			attribute<Eur_ton> Prijs := union_data(., ModelParameters/Landbouw/CO2_prijs_minimum, ModelParameters/Landbouw/CO2_prijs_maximum);
		}
		
		unit<uint32> EmissieXPrijsK := combine(EmissieK, PrijsK)
		{
			attribute<string> Emissie_name := EmissieK/name[first_rel];
			attribute<string> Prijs_name := PrijsK/name[second_rel];
			attribute<string> label := 'Emissies'+Emissie_name+'_'+'Prijs'+Prijs_name;
			attribute<string> name := replace(label, '_', '/');
			attribute<Eur_ton> Prijs := PrijsK/Prijs[second_rel];
		}
	}
}