////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
// Dit is RSOpen, de open source versie van het model RuimteScanner. Het scipt wordt uitgegeven onder GNU-GPL licentie.
//
// RSOpen is ontwikkeld door PBL Planbureau voor de Leefomgeving, i.s.m Object Vision B.V. en VU Vrije Universiteit Amsterdam.
// Opdrachtgever/ontwikkelaar PBL: Bart Rijken
// Contactpersoon/ontwikkelaar Object Vision B.V.: Jip Claassens (jclaassens@objectvision.nl)
// Contacpersoon PBL: Bas van Bemmel (Bas.vanBemmel@pbl.nl)
//
// Met deze file kan in achtereenvolgende runs de zgn. baseData (Data die generiek zijn en relatief veel rekentijd kosten om te produceren) worden geëxporteerd.
// De Data worden weggeschreven naar de LocalDataDir. Het model gaat er default vanuit dat het deze 'ontkoppelde' Data kan gebruiken, en dus niet hoeft te (her)genereren.
// Dit laatste kan worden aangepast in de /ModelParameters of worden 'overruled' vanuit de batch omgeving
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

container WriteBaseData : using = "Classifications"
{
	parameter<String> Generate_Run1 := 
		  Impl/BBG
		+ Impl/IsAutoweg
		+ Impl/IsAutowegKlaverbladFix
		+ Impl/IsSpoorweg
		+ Impl/PopK_Buffers
		+ Impl/Verwervingskosten
		+ Impl/MakeNVK //nodig voor Landbouw modellering
		, Descr = "Activeer dit item om alle te ontkoppelen base data te genereren.";
		
		parameter<String> Generate_Run2 := 
		  Impl/StateBasisjaar
		+ Impl/EvidentBenut_AdminDomain_All
		+ Impl/Verdeling_VSSH_Proxy
		+ Impl/MakeZonneladder
		+ Impl/MakeVerblijfsrecreatie_Trends
		, Descr = "Activeer dit item om alle additionele te ontkoppelen base data te genereren, waarvoor eerste run1 nodig is.";
		
		parameter<String> Generate_Run3_IndicatorenData := 
		  Impl/GroenBruinBlauw
		+ Impl/WaterbergingCapaciteit
		, Descr = "Activeer dit item om alle te ontkoppelen base data te genereren die nodig is om indicatoren te kunnen berekenen.";
	
	container Impl
	{
		parameter<String> StateBasisjaar                := 'Ready', ExplicitSuppliers = "BaseData/StartState/StateBasisjaar/Write/Generate", Descr = "Schrijft de stand in het basisjaar voor alle subsectoren weg; voorkomt dat deze zwaar berekende startdata bij elke variant-run opnieuw gegenereerd moeten worden.";
		parameter<String> Verdeling_VSSH_Proxy          := 'Ready', ExplicitSuppliers = "BaseData/StartState/Verdeling_VSSH/Per_AllocRegios/Generate_Wonen", Descr = "Genereert de verdeling van woningsubectoren (VrijeSector/SocialeHuur) voor alle allocatieregios.";
		parameter<String> IsAutoweg                     := 'Ready', ExplicitSuppliers = "SourceData/Grondgebruik/BGT/IsDefinedAndNotNoData/IsAutoweg/Make_Per_AdminDomain", Descr = "Maakt een laag met autosnelweg-locaties (IsAutoweg); gebruikt om ontwikkelingen op of nabij autosnelwegen uit te sluiten of specifiek te behandelen.";
		parameter<String> IsAutowegKlaverbladFix        := 'Ready', ExplicitSuppliers = "SourceData/Grondgebruik/BGT/IsDefinedAndNotNoData/IsAutoweg/FixKlaverbladen/Make_Per_AdminDomain", Descr = "Voert correcties uit op knooppunten (klaverbladen) in de autosnelweg-laag om artefacten en overlapfouten te verwijderen; zorgt voor correcte uitsluitingen bij analyses.";
		parameter<String> IsSpoorweg                    := 'Ready', ExplicitSuppliers = "SourceData/Grondgebruik/BGT/IsDefinedAndNotNoData/IsSpoorbaan/Make_Per_AdminDomain", Descr = "Maakt een laag met spoorweg-locaties (IsSpoorweg); wordt gebruikt voor uitsluitingen of speciale behandeling nabij spoorinfrastructuur.";
		parameter<String> EvidentBenut_AdminDomain      := 'Ready', ExplicitSuppliers = "SourceData/Grondgebruik/BGT/IsDefinedAndNotNoData/Make_IsEvidentBenut_AdminDomain", Descr = "Produceert de 'evident benut' laag per admindomain: gebieden die al duidelijk in gebruik zijn. Deze laag voorkomt dat reeds benut terrein herontwikkeld wordt.";
		parameter<String> BBG                           := 'Ready', ExplicitSuppliers = "/SourceData/Grondgebruik/BBG/Dominant/impl/Make25mgrids_Modus/Y2020/DominantCBSKlasse_25m;/SourceData/Grondgebruik/BBG/Dominant/impl/Make100mgrids_Modus/Y2020/DominantCBSKlasse_100m;/SourceData/Grondgebruik/BBG/Dominant/impl/Make25mgrids_Modus/Y2022/DominantCBSKlasse_25m;/SourceData/Grondgebruik/BBG/Dominant/impl/Make100mgrids_Modus/Y2022/DominantCBSKlasse_100m", Descr = "Produceert recente BBG lagen (i.e. 2020 en 2022)";
		
		parameter<String> GroenBruinBlauw               := GroenOpp_AdminDomain + WaterOpp_AdminDomain + BruinOpp_AdminDomain;
		parameter<String> GroenOpp_AdminDomain          := 'Ready', ExplicitSuppliers = "SourceData/Grondgebruik/BGT/IsDefinedAndNotNoData/Make_GroenOpp_AdminDomain", Descr = "Produceert de 'Groen oppervlakte' laag per admindomain: Obv fractie groen uit BGT, relevant voor BereikbaarheidGroen indicator.";
		parameter<String> WaterOpp_AdminDomain          := 'Ready', ExplicitSuppliers = "SourceData/Grondgebruik/BGT/IsDefinedAndNotNoData/Make_WaterOpp_AdminDomain", Descr = "Produceert de 'Water oppervlakte' laag per admindomain: Obv fractie groen uit BGT, relevant voor diversen.";
		parameter<String> BruinOpp_AdminDomain          := 'Ready', ExplicitSuppliers = "SourceData/Grondgebruik/BGT/IsDefinedAndNotNoData/Make_BruinOpp_AdminDomain", Descr = "Produceert de 'Bruin oppervlakte' laag per admindomain: Obv fractie groen uit BGT, relevant voor diversen.";
		
		parameter<String> WaterbergingCapaciteit               := HalfverhardingCapaciteit_AdminDomain + HolleWegCapaciteit_AdminDomain + WadiCapaciteit_AdminDomain;
		parameter<String> HalfverhardingCapaciteit_AdminDomain := 'Ready', ExplicitSuppliers = "SourceData/Grondgebruik/BGT/IsDefinedAndNotNoData/Make_HalfverhardingCapaciteit_AdminDomain";
		parameter<String> HolleWegCapaciteit_AdminDomain       := 'Ready', ExplicitSuppliers = "SourceData/Grondgebruik/BGT/IsDefinedAndNotNoData/Make_HolleWegCapaciteit_AdminDomain";
		parameter<String> WadiCapaciteit_AdminDomain           := 'Ready', ExplicitSuppliers = "SourceData/Grondgebruik/BGT/IsDefinedAndNotNoData/Make_WadiCapaciteit_AdminDomain";
		
		parameter<String> PopK_Buffers                  := 'Ready', ExplicitSuppliers = "SourceData/RegioIndelingen/Bevolkingskern_2011/Maak_PopK_Buffers/Generate", Descr = "Maakt bufferzones rond bevolkingskernen (PopK) voor gebruik bij ruimtelijke beperkingen en analysegroepen; helpt bij beleidsregels rond kernen.";
		parameter<String> Verwervingskosten             := 'Ready', ExplicitSuppliers = "BaseData/Suitabilities/Wonen/Verwervingskosten/Generate", Descr = "Berekent en schrijft verwervingskosten voor woonlocaties/totale suitability; noodzakelijk voor kostenafwegingen bij allocatie en haalbaarheidsberekeningen.";
		parameter<String> Zonneladder                   := 'Ready', ExplicitSuppliers = "BaseData/Zonneladder/PerAllocDomain/Write", Descr = "Schrijft de 'zonneladder' (geprioritiseerde locaties voor zonprojecten) per allocdomain; wordt gebruikt door de zonnesector voor plaatsing en ranking van locaties.";
		parameter<String> Verblijfsrecreatie_Trends     := 'Ready', ExplicitSuppliers = "BaseData/StartState/Verblijfsrecreatie_Trends/Trends/Write_Betas", Descr = "Schrijft trends en beta-parameters voor de verblijfsrecreatie-sector; deze trendparameters sturen de ontwikkeling over runs.";
		
		parameter<String> MakeNVK                       := =VariantParameters/SectorAllocRegio/Uq_Sectors/HasLandbouwSector ? 'NVK' : quote('NotNeeded'), Descr = "Bepaalt of NVK landgebruiksdata moeten worden gemaakt: bij aanwezigheid van de landbouwsector wordt NVK gegenereerd, anders niet.";
		parameter<String> EvidentBenut_AdminDomain_All  := =VariantParameters/SectorAllocRegio/Uq_Sectors/HasZonSector ? 'EvidentBenut_AdminDomain + EvidentBenutZon_AdminDomain' : 'EvidentBenut_AdminDomain', Descr = "Combineert standaard 'evident benut' met een zon-specifieke variant wanneer de zonsector aanwezig is; zorgt dat zonplaatsing rekening houdt met extra benuttingsregels.";
		parameter<String> MakeVerblijfsrecreatie_Trends := =VariantParameters/SectorAllocRegio/Uq_Sectors/HasVerblijfsrecreatieSector ? 'Verblijfsrecreatie_Trends' : quote('NotNeeded'), Descr = "Schakelt het genereren van verblijfsrecreatie-trends in wanneer de sector aanwezig is; voorkomt onnodige berekeningen voor niet-relevante varianten.";
		parameter<String> MakeZonneladder               := =VariantParameters/SectorAllocRegio/Uq_Sectors/HasZonSector ? 'Zonneladder' : quote('NotNeeded'), Descr = "Schakelt het genereren van de zonneladder in wanneer de zonsector is opgenomen in de variant; bespaart rekentijd als zon niet relevant is.";
		parameter<String> NVK                           := 'Ready', ExplicitSuppliers = "SourceData/Grondgebruik/NVK/Huidig/Write_Huidig_25m_LU_ModelType;/SourceData/Grondgebruik/NVK/HDB/Write_HDB2050_25m_LU_ModelType", Descr = "Bevat NVK landgebruiksbestanden (huidig en HDB2050) op 25m-resolutie die door de landbouwmodule gebruikt worden voor modelinvoer en analyse.";
		parameter<String> EvidentBenutZon_AdminDomain   := 'Ready', ExplicitSuppliers = "SourceData/Grondgebruik/BGT/IsDefinedAndNotNoData/Make_IsEvidentBenutZon_AdminDomain", Descr = "Maakt een zon-specifieke 'evident benut' laag die voorkomt dat zonprojecten op reeds duidelijk gebruikte locaties worden geplaatst; gebruikt door de zon-sectorlogica.";
	
		//zit in SD
		parameter<String> Write_BAG_WP5_rel             := 'Ready', ExplicitSuppliers = "='SourceData/Vastgoed/BAG/PerJaar/Y'+string(ModelParameters/Model_StartYear)+'/pand/AfleidingPandType/Write_WP5/WP5_rel; SourceData/Vastgoed/BAG/PerJaar/Y'+string(ModelParameters/Model_StartYear)+'/pand_alle_statussen/AfleidingPandType/Write_WP5/WP5_rel; SourceData/Vastgoed/BAG/PerJaar/Y'+string(ModelParameters/BAG_RecentYear)+'/pand/AfleidingPandType/Write_WP5/WP5_rel; SourceData/Vastgoed/BAG/PerJaar/Y'+string(ModelParameters/BAG_RecentYear)+'/pand_alle_statussen/AfleidingPandType/Write_WP5/WP5_rel'", Descr ="Voor debug purposes";
	}
}